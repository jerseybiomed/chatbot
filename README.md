# chatbot
# Замечания часть 1	
1. Класс Messenger не занимается чтением из файла, этим занимается другой класс(+)(отказались от чтения из файла)	
2. Цикл while не у бота(+)	
3. getCoffisient в отдельный класс(+)	
4. Тесты(+)	
5. Проверка на клонирование(+)	
# Замечания часть 2	
1. Показывать Help через стандартный вызов команд, а не в App(+)	
2. Drum пренимать как зависимость и создавать внутри App(+)	
3. Calculator принимать в Drum как зависимость и создавать в App(+)	
# Задача 2	
1. Новый режим игры - рулетка. Рулетка прокручивается один раз в определенное время, за которое можно сделать ставку
2. В рулеткие учасвтвуют несколько игроков, которые получают сообщения о ставках друг друга
3. Будем хранить пользователей, которые зашли в данный режим, и организуем для них рассылку
4. У режима будет ограничение по количеству игроков из-за ограничения отправки сообщений ботом в телеграмме
# Допольнительно: телеграм, кнопки и деплой на Heroku
# Замечания ко 2 задаче:
1. Все ключи убрать из гита, и положить в конфиг
2. Логика ввода - вывода и логика построения диалога не зависят друг от друга, логика построения диалога должна иметь метод в параметрах которого сообщение пользователя, а возвращаемое значение - сообщение которое нужно передать пользователю, формат сообщений не должен зависить от телеграма
3. Для связи логики ввода - вывода и логики посмтроения диалога использовать Publisher/Subscrider. Там где собираются все зависимости нужно подписать логику построения диалога на новые сообщения из логики ввода - вывода
4. Все данные игроков в сущность игрока
5. Разделить на разные классы логику построения разных диалогов (начальный, бандит и рулетка)
6. Тесты на логику построения диалога
7. UserId обернуть в класс UserId, long в качестве UserId используется только в наследниках TelegramLongPollingBot
# Замечания ко 2 задаче часть 2:
1. Убрать дублирование кода в тестах
2. Вынести логику работы с игроками из телеграма в логику работы игры
3. В Roulette сделать потопобезопасную работу с таймером
4. Потокобезопасная работа с телеграмом
5. Сделать чтобы Roulette не зависит не от RouletteLogic, не от бота, должен предоставлять события, которые изначально генерируются таймером, на которые можно подписаться
6. RouletteLogic не зависит от бота
7. Игры реализуют один интерфейс, казино не зависит от конкретной реализации игры, получает массив из интерфейсов игр
8. Вынести информацию специфичную для контретной игры из игрока и поместить в игру, сделать для каждой игры отдельный класс с состоянием игрока
9. Не передавать телеграм(this) когда вызывается метод у Publisher, варианты решения: Pub/Sub в обратном направлении, либо реализовать интерфейс writer и передавать его в казино, рулетки и т.д.
10. Пункт 7 из предыдущих замечаний
11. Тест на то что монжо запустить игру